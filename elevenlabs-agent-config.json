{
  "asr": {
    "quality": "high",
    "provider": "elevenlabs",
    "user_input_audio_format": "ulaw_8000",
    "keywords": []
  },
  "turn": {
    "turn_timeout": 7,
    "silence_end_call_timeout": -1,
    "mode": "turn",
    "turn_eagerness": "normal"
  },
  "tts": {
    "model_id": "eleven_multilingual_v2",
    "voice_id": "2vq6XMyP121RBGHnQp4z",
    "supported_voices": [
      {
        "label": "Morgan \u2014 Hindi",
        "voice_id": "2vq6XMyP121RBGHnQp4z",
        "description": "Use this voice whenever the caller speaks Hindi or the detected language is Hindi (hi).\nContinue 100% in Hindi unless the caller switches languages. Warm, friendly, professional event host tone.\nNo translations back to English.",
        "language": "hi",
        "model_family": "multilingual",
        "optimize_streaming_latency": null,
        "stability": null,
        "speed": null,
        "similarity_boost": null
      },
      {
        "label": "Morgan \u2014 Spanish",
        "voice_id": "2vq6XMyP121RBGHnQp4z",
        "description": "Use this voice whenever the caller speaks Spanish or the detected language is Spanish (es).\nContinue 100% in Spanish unless the caller switches languages. Warm, friendly, professional event host tone.\nNo translations back to English.",
        "language": "es",
        "model_family": "multilingual",
        "optimize_streaming_latency": null,
        "stability": null,
        "speed": null,
        "similarity_boost": null
      }
    ],
    "agent_output_audio_format": "pcm_16000",
    "optimize_streaming_latency": 4,
    "stability": 0.65,
    "similarity_boost": 0.75,
    "use_speaker_boost": true,
    "speed": 1,
    "language_presets": {}
  },
  "evaluation": {
    "criteria": [
      {
        "id": "language_detection",
        "name": "Language Detection",
        "type": "prompt",
        "conversation_goal_prompt": "Determine whether the user's language throughout the conversation was primarily English, Spanish, or mixed.  \nIf the user switched languages mid-conversation, note the transition point and how smoothly the agent adapted.  \nRate as:\n- \"English\" if 90% or more of user input is English.\n- \"Spanish\" if 90% or more of user input is Spanish.\n- \"Mixed\" if both appear substantially or if the agent switched seamlessly between languages.  \nExplain your reasoning briefly.",
        "use_knowledge_base": false
      }
    ]
  },
  "testing": {
    "attached_tests": [],
    "attached_tests_ordered_ids": []
  },
  "analysis_schema": [
    "latency",
    "cost",
    "transcript"
  ],
  "conversation_initiation_client_data_webhook": null,
  "data_collection": [
    {
      "type": "string",
      "description": "The secondary or alternate language used\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "secondary_language"
    },
    {
      "type": "boolean",
      "description": "Whether the user switched languages\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "language_switch_detected"
    },
    {
      "type": "integer",
      "description": "Rating from 1\u20135 of how well the agent adapted\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "agent_adaptation_score"
    },
    {
      "type": "string",
      "description": "Notes about confidence or performance\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "confidence_notes"
    },
    {
      "type": "string",
      "description": "Description of when the switch occurred\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "switch_point_summary"
    },
    {
      "type": "string",
      "description": "The main language used by the user\n",
      "enum": null,
      "is_system_provided": false,
      "dynamic_variable": "",
      "constant_value": "",
      "id": "primary_language"
    }
  ],
  "agent": {
    "first_message": "\"Hey there! Thanks for calling SurfingCloud9 Entertainment\u2014this is Morgan. I'm really glad you reached out today. So tell me, what kind of event are you planning?\"\n",
    "language": "en",
    "prompt": {
      "prompt": "# Personality\nYou are Morgan, the voice of {{company_name}}. You sound confident, grounded, and genuinely warm. You make people feel like they're already in good hands. Never pushy\u2014just clear, upbeat, and professional.\n\n# Environment\nYou're speaking with potential clients over the phone in {{service_area}}. You represent a premium company known for exceptional DJs, lighting, karaoke, and live entertainment experiences.\n\n# Tone\nFriendly, conversational, and professional.  \nPace naturally\u2014no rush. Use affirmations like \"Got it\" or \"Sure thing\" instead of filler words.  \nSound human, not scripted. Smile in your voice.\n\n# Language\nIf the caller speaks Spanish or Hindi, continue the conversation entirely in that language. Otherwise, stay in English.\n\n# Conversation Flow\n\n1. **Greet and Engage**\n   - Example: \"Hi! This is Morgan with {{company_name}}. What kind of event are you planning?\"\n\n2. **Qualify and Discover**\n   - Ask for: event type, date/timeframe, location/venue, guest count, and vibe.\n   - Ask what's most important to them: music style, MC presence, lighting, or interactivity.\n\n3. **Recommend and Guide**\n   - Recommend one fitting option naturally, not as a list.  \n   - If needed, reference: {{packages_summary}}  \n   - Suggest one add-on (like uplighting, karaoke, or a photo booth).\n\n4. **Next Steps**\n   - Offer to check availability or send a quote.  \n   - If they want to see available dates, share: {{calendar_url}}  \n   - If they want to talk contracts or deposits, say you can transfer them and call the transfer tool with {{transfer_target}}.  \n   - If the transfer tool isn't available, offer to have someone call them back at {{sales_phone}}.\n\n# Guardrails\nStay focused on entertainment services provided by {{company_name}}.  \nIf they ask about something outside your scope (like payments or contracts), either transfer them or promise a callback.  \nBe honest if you don't know something\u2014keep it real, keep it friendly.",
      "llm": "gemini-2.0-flash",
      "reasoning_effort": null,
      "thinking_budget": 0,
      "temperature": 0.7,
      "max_tokens": 300,
      "tool_ids": [],
      "dynamic_variables": {
        "dynamic_variable_placeholders": {
          "company_name": "SurfingCloud9 Entertainment",
          "service_area": "California",
          "packages_summary": "We offer DJ services, lighting packages, karaoke, and live entertainment",
          "calendar_url": "https://plan.sc9entertainment.com/check_availability.asp?djidnumber=27282",
          "transfer_target": "+1234567890",
          "sales_phone": "+1234567890"
        }
      },
      "mcp_server_ids": [],
      "native_mcp_server_ids": [],
      "knowledge_base": [
        {
          "type": "text",
          "name": "SurfingCloud9 Entertainment - Complete Service Guide",
          "id": "QwDZxaB3hO3iuLEQsYpo",
          "usage_mode": "auto"
        }
      ],
      "custom_llm": null,
      "ignore_default_personality": false,
      "rag": {
        "max_knowledge_base_length": 512
      },
      "backup_llm_config": {
        "preference": "default"
      },
      "tools": [
        {
          "type": "system",
          "name": "end_call",
          "description": "Allows Morgan to end the call politely once all event details and contact information have been collected.",
          "response_timeout_secs": 20,
          "disable_interruptions": false,
          "force_pre_tool_speech": false,
          "assignments": [],
          "tool_call_sound": null,
          "tool_call_sound_behavior": "auto",
          "params": {
            "system_tool_type": "end_call"
          }
        },
        {
          "type": "system",
          "name": "language_detection",
          "description": "Automatically detect the caller's language from their first utterance and any later switches. \nIf the caller uses Spanish, respond 100% in Spanish. If the caller uses Hindi, respond 100% in Hindi. \nDo not announce that you detected a language\u2014just continue naturally in that language. \nKeep SurfingCloud9's warm, concierge tone and rephrase pricing/package details naturally in the target language. \nIf the caller switches languages mid-call, seamlessly switch to the new language. \nIf the caller asks to continue in English, switch back to English.",
          "response_timeout_secs": 20,
          "disable_interruptions": false,
          "force_pre_tool_speech": false,
          "assignments": [],
          "tool_call_sound": null,
          "tool_call_sound_behavior": "auto",
          "params": {
            "system_tool_type": "language_detection"
          }
        }
      ]
    }
  },
  "languages": [
    "es",
    "hi"
  ],
  "workflow": {
    "edges": {
      "edge_4301k951k24ke50sx8vhpgcwjsdx": {
        "source": "node_01k951k24jlswzrqj66d3vgm6r",
        "destination": "node_0201k951k24jft6r5btfsrz5dk4k",
        "condition": null
      },
      "edge_01k951mzv9ecyb9mqfgas6t39m": {
        "source": "node_0201k951k24jft6r5btfsrz5dk4k",
        "destination": "node_01k951mzv4ecyb9mq637syp6cx",
        "condition": null
      },
      "edge_01k952agh5ecyb9mr06qcafqs9": {
        "source": "node_01k951mzv4ecyb9mq637syp6cx",
        "destination": "node_01k952agh1ecyb9mqrsm9w5ak9",
        "condition": null
      }
    },
    "nodes": {
      "node_01k951k24jlswzrqj66d3vgm6r": {
        "type": "start",
        "position": {
          "x": 128,
          "y": 64
        },
        "edge_order": [
          "edge_4301k951k24ke50sx8vhpgcwjsdx"
        ]
      },
      "node_0201k951k24jft6r5btfsrz5dk4k": {
        "conversation_config": {
          "turn": {},
          "tts": {},
          "agent": {
            "prompt": {
              "prompt": "{\n  \"type\": \"client\",\n  \"name\": \"send_calendar_link\",\n  \"description\": \"Send the caller the live availability URL and an optional message.\",\n  \"expects_response\": false,\n  \"response_timeout_secs\": 20,\n  \"parameters\": [\n    {\n      \"id\": \"message\",\n      \"type\": \"string\",\n      \"description\": \"Human-friendly text to send to the caller.\",\n      \"dynamic_variable\": \"\",\n      \"required\": true,\n      \"constant_value\": \"Here's our live calendar to check dates and lock yours in:\",\n      \"value_type\": \"constant\"\n    },\n    {\n      \"id\": \"url\",\n      \"type\": \"string\",\n      \"description\": \"Calendar URL to share.\",\n      \"dynamic_variable\": \"calendar_url\",\n      \"required\": true,\n      \"constant_value\": \"\",\n      \"value_type\": \"dynamic\"\n    }\n  ],\n  \"dynamic_variables\": {\n    \"dynamic_variable_placeholders\": {\n      \"calendar_url\": \"https://plan.sc9entertainment.com/check_availability.asp?djidnumber=27282\"\n    }\n  },\n  \"assignments\": [],\n  \"disable_interruptions\": false,\n  \"force_pre_tool_speech\": \"auto\",\n  \"tool_call_sound\": null,\n  \"tool_call_sound_behavior\": \"auto\",\n  \"execution_mode\": \"immediate\"\n}",
              "built_in_tools": {
                "end_call": {
                  "type": "default"
                },
                "language_detection": {
                  "type": "default"
                },
                "skip_turn": {
                  "type": "default"
                },
                "transfer_to_agent": {
                  "type": "default"
                },
                "transfer_to_number": {
                  "type": "default"
                },
                "play_keypad_touch_tone": {
                  "type": "default"
                },
                "voicemail_detection": {
                  "type": "default"
                }
              }
            }
          }
        },
        "additional_prompt": "",
        "additional_knowledge_base": [
          {
            "type": "text",
            "name": "json",
            "id": "WzruDlGKQ9DCzjUgAwha",
            "usage_mode": "auto"
          }
        ],
        "additional_tool_ids": [],
        "type": "override_agent",
        "position": {
          "x": 704,
          "y": 64
        },
        "edge_order": [
          "edge_01k951mzv9ecyb9mqfgas6t39m"
        ],
        "label": "Entertainment Coordinator Morgan"
      },
      "node_01k952agh1ecyb9mqrsm9w5ak9": {
        "type": "end",
        "position": {
          "x": 1856,
          "y": 64
        },
        "edge_order": []
      },
      "node_01k951mzv4ecyb9mq637syp6cx": {
        "conversation_config": {
          "turn": {},
          "tts": {
            "voice_id": null
          },
          "agent": {
            "prompt": {
              "prompt": null,
              "llm": null,
              "built_in_tools": {
                "end_call": {
                  "type": "default"
                },
                "language_detection": {
                  "type": "default"
                },
                "skip_turn": {
                  "type": "default"
                },
                "transfer_to_agent": {
                  "type": "default"
                },
                "transfer_to_number": {
                  "type": "default"
                },
                "play_keypad_touch_tone": {
                  "type": "default"
                },
                "voicemail_detection": {
                  "type": "default"
                }
              }
            }
          }
        },
        "additional_prompt": "Qualify Event Details",
        "additional_knowledge_base": [
          {
            "type": "text",
            "name": "SurfingCloud9 Entertainment - Complete Service Guide",
            "id": "QwDZxaB3hO3iuLEQsYpo",
            "usage_mode": "auto"
          }
        ],
        "additional_tool_ids": [],
        "type": "override_agent",
        "position": {
          "x": 1280,
          "y": 64
        },
        "edge_order": [
          "edge_01k952agh5ecyb9mr06qcafqs9"
        ],
        "label": "New subagent"
      }
    }
  },
  "tts_model_family": "multilingual",
  "guardrails_version": "1",
  "guardrails": {
    "sexual": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "violence": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "violence_graphic": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "harassment": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "harassment_threatening": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "hate": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "hate_threatening": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "self_harm_instructions": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "self_harm": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "self_harm_intent": {
      "is_enabled": false,
      "threshold": 0.3
    },
    "sexual_minors": {
      "is_enabled": false,
      "threshold": 0.3
    }
  }
}